webpackJsonp([8],{"06Sp":function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e("3cXf"),i=e.n(a),n={components:{Head:e("qvKF").a},data:function(){return{where:"",num:0,iut:"",list:[],str:[],bool:!0,bol:!1,bal:!1,names:[]}},methods:{getsearch:function(){if(""!=this.iut){var t=this;this.http.get("http://elm.cangdu.org/v1/pois?type=search&city_id="+this.num+"&keyword="+this.iut).then(function(s){0==s.length?t.bal=!0:(t.list=s,t.bal=!1)}),this.bool=!1}},getpush:function(t){var s={};(s.name=this.list[t].name,s.address=this.list[t].address,s.geohash=this.list[t].geohash,localStorage.getItem("getpush")&&(this.str=JSON.parse(localStorage.getItem("getpush"))),0==this.str.length)?(this.str.unshift(s),localStorage.setItem("getpush",i()(this.str))):0==this.str.filter(function(t){return t.name==s.name&&t.address==s.address}).length&&(this.str.unshift(s),localStorage.setItem("getpush",i()(this.str)));this.names=[];var e={};e.name=this.list[t].name,e.geohash=this.list[t].geohash,s.latitude=this.list[t].latitude,s.longitude=this.list[t].longitude,this.names.push(e),localStorage.setItem("geta",i()(this.names))},gethide:function(){this.str=[],localStorage.setItem("getpush",i()(this.str)),this.bol=!1},geta:function(t){this.names=[];var s={};s.name=this.str[t].name,s.geohash=this.str[t].geohash,this.names.push(s),localStorage.setItem("geta",i()(this.names))}},mounted:function(){localStorage.getItem("getpush")&&(this.str=JSON.parse(localStorage.getItem("getpush"))),0==this.str.length?this.bol=!1:this.bol=!0},created:function(){var t=this.$route.params.name;this.where=t;var s=this.$route.params.id;this.num=s}},r={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"scity"},[e("Head",{attrs:{headback:"false"}}),t._v(" "),e("div",{staticClass:"content"},[e("div",{staticClass:"main"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.iut,expression:"iut"}],attrs:{type:"text",placeholder:"输入学校、商务楼、地址"},domProps:{value:t.iut},on:{input:function(s){s.target.composing||(t.iut=s.target.value)}}}),t._v(" "),e("button",{on:{click:function(s){return t.getsearch()}}},[t._v("提交")])]),t._v(" "),t.bool?e("div",{staticClass:"history"},[e("p",{staticClass:"his-p1"},[t._v("搜索历史")]),t._v(" "),e("div",{staticClass:"his-p2"},[e("ul",t._l(t.str,function(s,a){return e("router-link",{key:a,attrs:{tag:"li",to:{path:"/Home",query:{geohash:s.geohash}}}},[e("div",{on:{click:function(s){return t.geta(a)}}},[e("h4",[t._v(t._s(s.name))]),t._v(" "),e("p",{staticClass:"his-s1"},[t._v(t._s(s.address))])])])}),1),t._v(" "),t.bol?e("p",{on:{click:function(s){return t.gethide()}}},[t._v("清空记录")]):t._e()])]):t._e(),t._v(" "),t.bool?t._e():e("div",{staticClass:"address"},[e("ul",[t._l(t.list,function(s,a){return t.bal?t._e():e("router-link",{key:a,attrs:{tag:"li",to:{path:"/Home",query:{geohash:s.geohash}}}},[e("div",{on:{click:function(s){return t.getpush(a)}}},[e("h4",[t._v(t._s(s.name))]),t._v(" "),e("p",{staticClass:"his-s1"},[t._v(t._s(s.address))])])])}),t._v(" "),t.bal?e("li",{staticClass:"none"},[t._v("\n                      暂无数据\n                    ")]):t._e()],2)])])],1)},staticRenderFns:[]};var h=e("C7Lr")(n,r,!1,function(t){e("rSeP")},"data-v-7acec07c",null);s.default=h.exports},rSeP:function(t,s){}});
//# sourceMappingURL=8.456f432eb7ad159f5a74.js.map