webpackJsonp([5],{JQ3J:function(t,s){},LmTY:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e("3cXf"),n=e.n(a),i=e("qvKF"),o=e("Muz9"),l=e.n(o);l.a.defaults.withCredentials=!0;var r={components:{Head:i.a},mounted:function(){this.add=this.$route.query.name,this.geo=this.$route.query.geo},data:function(){return{uname:"",add:"",mess:"",tel:"",otel:"",unames:!1,messs:!1,tels:!1,otels:!1,s1:"",s2:"",s3:"",btn:!1,warn:"",warnbol:!0,geo:0,acc:[],obj:{}}},methods:{getbtn:function(){var t=this;l.a.post("http://elm.cangdu.org/v1/users/37966/addresses",{tag_type:4,sex:1,poi_type:0,phone_bk:this.otel,tag:"公司",geohash:this.geo,address:this.mess,address_detail:this.add,phone:this.tel,name:this.uname}).then(function(s){if(console.log(s),"地址信息错误"==s.message&&(t.warnbol=!1,t.warn="地址信息错误"),"详细地址信息错误"==s.message&&(t.warnbol=!1,t.warn="详细地址信息错误"),"收获手机号错误"==s.message&&(t.warnbol=!1,t.warn="收获手机号错误"),"收货人姓名错误"==s.message&&(t.warnbol=!1,t.warn="收货人姓名错误"),"添加地址成功"==s.success){if(t.obj.name=t.add,t.obj.tel=t.tel,localStorage.getItem("getadd"))if(t.acc=JSON.parse(localStorage.getItem("getadd")),0==t.acc.length)t.acc.unshift(t.obj);else 0==t.acc.filter(function(s){return s.name==t.add&&s.tel==t.tel}).length&&t.acc.unshift(t.obj);localStorage.setItem("getadd",n()(t.acc)),t.$router.push({path:"/Shopadd"})}})},getbtn1:function(){this.warnbol=!0}},watch:{uname:function(){""==this.uname?this.unames=!0:this.unames=!1,""!=this.uname&&0==this.unames&&""!=this.mess&&0==this.messs&&""!=this.tel&&0==this.tels?this.btn=!0:this.btn=!1},mess:function(){""==this.mess?(this.messs=!0,this.s1="请详细填写送餐地址"):this.mess.length<3?(this.messs=!0,this.s1="送餐地址太短了，不能辨识"):this.messs=!1,""!=this.uname&&0==this.unames&&""!=this.mess&&0==this.messs&&""!=this.tel&&0==this.tels?this.btn=!0:this.btn=!1},tel:function(){""==this.tel?(this.tels=!0,this.s2="手机号不能为空"):/^[1][3,4,5,7,8][0-9]{9}$/.test(this.tel)?this.tels=!1:(this.tels=!0,this.s2="请输入正确的手机号"),""!=this.uname&&0==this.unames&&""!=this.mess&&0==this.messs&&""!=this.tel&&0==this.tels?this.btn=!0:this.btn=!1},otel:function(){""!=this.otel?/^[1][3,4,5,7,8][0-9]{9}$/.test(this.otel)?this.otels=!1:(this.otels=!0,this.s3="请输入正确的手机号"):this.otels=!1}}},c={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("Head",{attrs:{headback:"false",headto:"false",bol:"新增地址"}}),t._v(" "),e("div",{staticClass:"main"},[e("div",{staticClass:"content"},[e("div",{staticClass:"conlist",class:{action:t.unames}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.uname,expression:"uname"}],attrs:{type:"text",placeholder:"请填写你的姓名"},domProps:{value:t.uname},on:{input:function(s){s.target.composing||(t.uname=s.target.value)}}})]),t._v(" "),t.unames?e("span",[t._v("请填写您的姓名")]):t._e(),t._v(" "),e("router-link",{staticClass:"conlist",attrs:{tag:"div",to:"/Seep"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.add,expression:"add"}],attrs:{type:"text",placeholder:"小区/写字楼/学校等",readonly:"readonly"},domProps:{value:t.add},on:{input:function(s){s.target.composing||(t.add=s.target.value)}}})]),t._v(" "),e("div",{staticClass:"conlist",class:{action:t.messs}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.mess,expression:"mess"}],attrs:{type:"text",placeholder:"请填写详细送餐地址"},domProps:{value:t.mess},on:{input:function(s){s.target.composing||(t.mess=s.target.value)}}})]),t._v(" "),t.messs?e("span",[t._v(t._s(t.s1))]):t._e(),t._v(" "),e("div",{staticClass:"conlist",class:{action:t.tels}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.tel,expression:"tel"}],attrs:{type:"text",placeholder:"请填写能够联系到您的手机号"},domProps:{value:t.tel},on:{input:function(s){s.target.composing||(t.tel=s.target.value)}}})]),t._v(" "),t.tels?e("span",[t._v(t._s(t.s2))]):t._e(),t._v(" "),e("div",{staticClass:"conlist",class:{action:t.otels}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.otel,expression:"otel"}],attrs:{type:"text",placeholder:"备用联系电话(选填)"},domProps:{value:t.otel},on:{input:function(s){s.target.composing||(t.otel=s.target.value)}}})]),t._v(" "),t.otels?e("span",[t._v(t._s(t.s3))]):t._e()],1),t._v(" "),e("div",{staticClass:"abtn",class:{abtns:t.btn},on:{click:function(s){return t.getbtn()}}},[t._v("新增地址")]),t._v(" "),t.warnbol?t._e():e("div",{staticClass:"modals"},[t._m(0),t._v(" "),e("div",{staticClass:"warn-con"},[t._v(t._s(t.warn))]),t._v(" "),e("div",{staticClass:"btn",on:{click:function(s){return t.getbtn1()}}},[t._v("确定")])])])],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"warn"},[s("span"),this._v(" "),s("span")])}]};var d=e("C7Lr")(r,c,!1,function(t){e("JQ3J")},"data-v-edb75db8",null);s.default=d.exports}});
//# sourceMappingURL=5.f1e6464b646d41c2a35a.js.map