webpackJsonp([10],{"/cCh":function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e("qvKF"),r=e("Muz9"),n=e.n(r);n.a.defaults.withCredentials=!0;var i={components:{Head:a.a},data:function(){return{pas:!1,password:"",username:"",proving:"",checked:!1,provingimg:"",warn:"",warnbol:!0}},watch:{checked:function(){1==this.checked?this.pas=!0:this.pas=!1}},methods:{getpro:function(){var t=this;this.http.post("http://elm.cangdu.org/v1/captchas",{}).then(function(s){console.log(s.code),""!=s.code&&(t.provingimg=s.code)})},register:function(){var t=this;if(""!=this.username&&""!=this.password&&""!=this.proving){var s=/^\w{6,16}$/,e=/^\w{6,16}$/;0==s.test(this.username)&&(this.warnbol=!1,this.warn="用户名格式错误"),0==e.test(this.password)&&(this.warnbol=!1,this.warn="密码格式错误"),1==s.test(this.username)&&1==e.test(this.password)&&n.a.post("http://elm.cangdu.org/v2/login",{password:this.password,username:this.username,captcha_code:this.proving}).then(function(s){if(console.log(s),0==s.status)"验证码不正确"==s.message&&(t.warnbol=!1,t.warn="验证码不正确",t.getpro()),"密码错误"==s.message&&(t.warnbol=!1,t.warn="密码错误",t.getpro());else{var e={};e.name=t.username,e.pass=t.password,e.avatar=s.avatar,e.id=s.user_id,t.$store.commit("add",e),t.$router.go(-1)}})}""!=this.username&&""==this.password&&(this.warnbol=!1,this.warn="请输入密码",this.getpro()),""==this.username&&""!=this.password&&(this.warnbol=!1,this.warn="请输入手机号/邮箱/用户名",this.getpro()),""!=this.username&&""!=this.password&&""==this.proving&&(this.warnbol=!1,this.warn="请输入验证码",this.getpro()),""==this.username&&""==this.password&&""==this.proving&&(this.warnbol=!1,this.warn="请输入手机号/邮箱/用户名",this.getpro())},getbtn:function(){this.warnbol=!0}},mounted:function(){this.getpro()}},o={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("Head",{attrs:{headback:"false",bol:"密码登录",headto:"false"}}),t._v(" "),e("div",{staticClass:"main"},[e("ul",{staticClass:"login"},[e("li",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{type:"text",placeholder:"账号"},domProps:{value:t.username},on:{input:function(s){s.target.composing||(t.username=s.target.value)}}})]),t._v(" "),e("li",[t.pas?e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"text",placeholder:"密码"},domProps:{value:t.password},on:{input:function(s){s.target.composing||(t.password=s.target.value)}}}):t._e(),t._v(" "),t.pas?t._e():e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",placeholder:"密码"},domProps:{value:t.password},on:{input:function(s){s.target.composing||(t.password=s.target.value)}}}),t._v(" "),e("van-switch",{staticClass:"switch1",model:{value:t.checked,callback:function(s){t.checked=s},expression:"checked"}})],1),t._v(" "),e("li",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.proving,expression:"proving"}],attrs:{type:"text",placeholder:"验证码"},domProps:{value:t.proving},on:{input:function(s){s.target.composing||(t.proving=s.target.value)}}}),t._v(" "),e("div",{staticClass:"provings"},[e("img",{attrs:{src:t.provingimg,alt:""}}),t._v(" "),e("div",[e("p",[t._v("看不清")]),t._v(" "),e("p",{on:{click:function(s){return t.getpro()}}},[t._v("换一张")])])])])]),t._v(" "),t._m(0),t._v(" "),e("button",{on:{click:function(s){return t.register()}}},[t._v("登陆")]),t._v(" "),e("div",{staticClass:"reset"},[e("router-link",{attrs:{tag:"span",to:"/Resetpass"}},[t._v("重置密码？")])],1),t._v(" "),t.warnbol?t._e():e("div",{staticClass:"modals"},[t._m(1),t._v(" "),e("div",{staticClass:"warn-con"},[t._v(t._s(t.warn))]),t._v(" "),e("div",{staticClass:"btn",on:{click:function(s){return t.getbtn()}}},[t._v("确定")])])])],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"remind"},[s("p",[this._v("温馨提示：未注册过的账号，登陆时将自动注册")]),this._v(" "),s("p",[this._v("注册过的用户可凭账号密码登陆")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"warn"},[s("span"),this._v(" "),s("span")])}]};var p=e("C7Lr")(i,o,!1,function(t){e("jbM1")},"data-v-6edfc1d3",null);s.default=p.exports},jbM1:function(t,s){}});
//# sourceMappingURL=10.348b0385c222fdb5b86a.js.map